<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>MiniCool World</title>
    <description>年迈的工程师</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Thu, 31 May 2018 12:48:01 +0800</pubDate>
    <lastBuildDate>Thu, 31 May 2018 12:48:01 +0800</lastBuildDate>
    <generator>Jekyll v3.7.3</generator>
    
      <item>
        <title>AI deep learn &amp; tensorflow opencv</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;因在数博会上对GOOGLE推出的Tensorflow颇感到兴趣，又从朋友听到深度学习及应用前景非常广。打算深度学习进行了解并对过程进行笔记。 主要使用tensorflow结合opencv对视频图像进行深度学习，对物品进行分析学习。例如识别车辆品牌及型号，物体快速识别。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;深度学习&quot;&gt;深度学习&lt;/h4&gt;
&lt;blockquote&gt;
  &lt;p&gt;深度学习的概念源于人工神经网络的研究。含多隐层的多层感知器就是一种深度学习结构。深度学习通过组合低层特征形成更加抽象的高层表示属性类别或特征，以发现数据的分布式特征表示。深度学习是机器学习中一种基于对数据进行表征学习的方法。观测值（例如一幅图像）可以使用多种方式来表示，如每个像素强度值的向量，或者更抽象地表示成一系列边、特定形状的区域等。而使用某些特定的表示方法更容易从实例中学习任务（例如，人脸识别或面部表情识别）。深度学习的好处是用非监督式或半监督式的特征学习和分层特征提取高效算法来替代手工获取特征。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;开发套件准备&quot;&gt;开发套件准备&lt;/h4&gt;

&lt;h5 id=&quot;开发环境工具&quot;&gt;开发环境工具&lt;/h5&gt;
&lt;p&gt;anaconda
指的是一个开源的Python发行版本，其包含了conda、Python等180多个科学包及其依赖项。
&lt;a href=&quot;https://www.anaconda.org/&quot;&gt;官网&lt;/a&gt; 
&lt;a href=&quot;https://www.anaconda.com/download/#windows&quot;&gt;下载 windows&lt;/a&gt; 
&lt;a href=&quot;https://www.anaconda.com/download/#macos&quot;&gt;下载 macos&lt;/a&gt; 
&lt;a href=&quot;https://www.anaconda.com/download/#linux&quot;&gt;下载 linux&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;官方提供了通过Graphical 和Command Line 两种方式，本文选择通过Graphical安装.
因本人MAC系统，选择下载最新基于Mac OS系统的Python 3.6进行安装。&lt;/p&gt;

&lt;h5 id=&quot;深度学习工具&quot;&gt;深度学习工具&lt;/h5&gt;
&lt;p&gt;tensorflow
是谷歌基于DistBelief进行研发的第二代人工智能学习系统，其命名来源于本身的运行原理。Tensor（张量）意味着N维数组，Flow（流）意味着基于数据流图的计算，TensorFlow为张量从流图的一端流动到另一端计算过程。TensorFlow是将复杂的数据结构传输至人工智能神经网中进行分析和处理过程的系统。TensorFlow可被用于语音识别或图像识别等多项机器学习和深度学习领域。
&lt;a href=&quot;https://www.tensorflow.org/&quot;&gt;官网&lt;/a&gt;
&lt;a href=&quot;http://www.tensorfly.cn/&quot;&gt;中文社区&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;视频分析工具&quot;&gt;视频分析工具&lt;/h5&gt;
&lt;p&gt;opencv
是一个基于BSD许可（开源）发行的跨平台计算机视觉库，可以运行在Linux、Windows、Android和Mac OS操作系统上。它轻量级而且高效——由一系列 C 函数和少量 C++ 类构成，同时提供了Python、Ruby、MATLAB等语言的接口，实现了图像处理和计算机视觉方面的很多通用算法。
&lt;a href=&quot;https://www.opencv.org/&quot;&gt;官网&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;语言开发工具&quot;&gt;语言开发工具&lt;/h5&gt;
&lt;p&gt;vscode
Microsoft Visual Studio（简称VS）是美国微软公司的开发工具包系列产品。VS是一个基本完整的开发工具集，它包括了整个软件生命周期中所需要的大部分工具，如UML工具、代码管控工具、集成开发环境(IDE)等等。所写的目标代码适用于微软支持的所有平台，包括Microsoft Windows、Windows Mobile、Windows CE、.NET Framework、.NET Compact Framework和Microsoft Silverlight 及Windows Phone。
&lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;官网&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;开发语言&quot;&gt;开发语言&lt;/h5&gt;
&lt;p&gt;python
是一种面向对象的解释型计算机程序设计语言，由荷兰人Guido van Rossum于1989年发明，第一个公开发行版发行于1991年。Python是纯粹的自由软件， 源代码和解释器CPython遵循 GPL(GNU General Public License)协议。Python具有丰富和强大的库。它常被昵称为胶水语言，能够把用其他语言制作的各种模块（尤其是C/C++）很轻松地联结在一起。
&lt;a href=&quot;https://www.python.org/&quot;&gt;官网&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;环境安装&quot;&gt;环境安装&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;安装anaconda,选择下载安装包，直接安装完成。没有特殊选择项。安装anaconda主要目的是适应多版本python环境搭建及可进行包管理，后续大多数包都可在该系统下进行安装。创建现有环境，
&lt;img src=&quot;/img/in-post/original/2018-05-30-ai-deep-learn-2.png&quot; alt=&quot;image01&quot; /&gt;
创建环境分为命令行和图形创建：
(1). 命令行 创建开发环境命名为tensorflow的环境，适用3.6版本python的&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;conda create &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; tensorflow &lt;span class=&quot;nt&quot;&gt;-python&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3.6
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;activate tensorflow&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;安装tensorflow。分为两种安装方式，
一种选择anaconda包管理方式进行下载。选择对应开发环境，选择all中，搜索tensorflow.
&lt;img src=&quot;/img/in-post/original/2018-05-30-ai-deep-learn-1.png&quot; alt=&quot;image01&quot; /&gt;
另一种功能适用pip进行下载。&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--ignore-installed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--upgrade&lt;/span&gt; https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.6.0-py3-none-any.whl&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;安装opencv。安装方法类似。&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;开发调试&quot;&gt;开发调试&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;安装vscode。可以选择从官网下载，也可以从conda中按照默认提供下载。
&lt;img src=&quot;/img/in-post/original/2018-05-30-ai-deep-learn-3.png&quot; alt=&quot;image03&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;下载vscode插件
安装python插件
&lt;img src=&quot;/img/in-post/original/2018-05-30-ai-deep-learn-4.png&quot; alt=&quot;image04&quot; /&gt;
配置python路径
&lt;img src=&quot;/img/in-post/original/2018-05-30-ai-deep-learn-5.png&quot; alt=&quot;image05&quot; /&gt;
如果通过官网下载vscode，还另需要安装conda插件
&lt;img src=&quot;/img/in-post/original/2018-05-30-ai-deep-learn-6.png&quot; alt=&quot;image06&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;测试程序&quot;&gt;测试程序&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;hello word&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;通过tensorflow 打印 hello word 以及输出opencv 输出版本。&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;tensorflow&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tf&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;cv2&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cv2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__version__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;constant&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hello word!'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sess&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
        <pubDate>Wed, 30 May 2018 19:00:00 +0800</pubDate>
        <link>http://localhost:4000/ai/2018/05/30/AI-deep-learn/</link>
        <guid isPermaLink="true">http://localhost:4000/ai/2018/05/30/AI-deep-learn/</guid>
        
        <category>deeplearning</category>
        
        <category>tensorflow</category>
        
        <category>opencv</category>
        
        
        <category>AI</category>
        
      </item>
    
      <item>
        <title>block chain &amp; trust issues</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;提到区块链，除了数字货币这个话题外，另一个话题常被人提到的是解决了陌生人信任问题。在对区块链这段时间的研究及理解中，个人觉得区块链能解决陌生人信任问题的能力明显的夸大了。退一步将，至少可以确定它能解决额问题是有限的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;区块链&quot;&gt;区块链&lt;/h4&gt;
&lt;p&gt;在本质上来说，区块链主要由共识协议，加密算法，数据结构等组成。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;共识协议：POW,POS,DPOS,PBFT等。（很多人甚至白皮书把共识协议叫做共识算法，我认为是不妥的。算法是解决特定问题数学计算的流程方式，协议是多方认可实行的操作方式。而共识更偏向协议这种解释。当然这只是我本人的理解，并不对这个学术名称进行过多解析）&lt;/li&gt;
  &lt;li&gt;加密算法：摘要：RIPEMD、SHA256 不对称加密向：ECC(椭圆曲线)算法等&lt;/li&gt;
  &lt;li&gt;数据结构：Merkle树，数据链表，块链结构等
本次主要讨论区块链的共识协议。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;共识协议&quot;&gt;共识协议&lt;/h4&gt;
&lt;p&gt;共识协议中主要的几种协议：（本身优缺点不做讨论）&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;POW (Proof of Work &amp;amp; 工作量证明): 即干的越多，收的越多。
依赖机器进行数学运算来获取记账权，资源消耗相比其他共识机制高、可监管性弱，同时每次达成共识需要全网共同参与运算，性能效率比较低，容错性方面允许全网50%节点出错。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;POS（Proof of Stake &amp;amp; 权益证明）：即持有越多，获得越多。
主要是节点记账权的获得难度与节点持有的权益成反比，相对于PoW，一定程度减少了数学运算带来的资源消耗，性能也得到了相应的提升，但依然是基于哈希运算竞争获取记账权的方式，可监管性弱。该共识机制容错性和PoW相同。它是Pow的一种升级共识机制，根据每个节点所占代币的比例和时间，等比例的降低挖矿难度，从而加快找随机数的速度。总体来说获得了权重属性的POW协议。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;DPOS（Delegated Proof of Stake，委任权益证明）：谁给我带来利益最大化，我就选谁
与PoS的主要区别在于节点选举若干代理人，由代理人验证和记账。其合规监管、性能、资源消耗和容错性与PoS相似。类似于董事会投票，持币者投出一定数量的节点，代理他们进行验证和记账。原理类似议会制度或人民代表大会制度。弱中心化。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;PBFT （Practical Byzantine Fault Tolerance，实用拜占庭容错）：我选你当老大，但是你每次干啥都要我审核
一种状态机副本复制算法，即服务作为状态机进行建模，状态机在分布式系统的不同节点进行副本复制。每个状态机的副本都保存了服务的状态，同时也实现了服务的操作。前提需要提供了(n-1)/3的容错性。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;信任和认可&quot;&gt;信任和认可&lt;/h4&gt;
&lt;p&gt;大家常常把这两种理解混在一起。本人所理解的更能准确描述。
认可：是常对某件事件，某个物件的认定。即对该事物表示认同不反对。狭义范围属于认定。
信任：是指在某人或某组织，可进行一步来说就是具有法定人的信任，授予其在范围内行驶权力的行为。狭义范围属于授权。&lt;/p&gt;

&lt;p&gt;以POW共识为例子：所有工作量的证明都是由算力对套用计算来获得随机数，以实现大家对该行为的认可。它自身并未有信任元素。
POS作为拥有权重属性的加强版POW协议，也和POW类似。
DPOS在认可上进行突破，形成了通过利益最大化来选择代理人。建立了弱信任元素。通过利益最大化来衡量。
PBFT表面上形成信任元素，但其本质还是认可行为，主要对选举出的领导的每次认可询问进行评定。&lt;/p&gt;

&lt;h4 id=&quot;数据上链风险及悖论&quot;&gt;数据上链风险及悖论&lt;/h4&gt;
&lt;p&gt;区块链不单单是数字货币这一个方向，如其他传统信息应用方向。涉及到链外数据进入链内方式。即数据上链方法。
而如何确定数据上链的安全性，即如何保证抄写员在本子上写的东西是真的，不存在私心进行修改的问题。
其实上述归纳来说，本质问题就是信任机制及风险。这种风险一般通过强信任模式和惩罚机制来制约。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;强信任模式，例如以太坊上的Oracle合约仲裁方。类似于现实生活中的银行，政府等。自身具有强信用背书。但这种存在方式又违背了陌生人信任模式。形成了弱中心化的行为。涉及外部合约等。&lt;/li&gt;
  &lt;li&gt;惩罚机制，如信任链中的全信任链崩塌，类似CA认证链。或者DPOS中无法获取委托高权益，将被委托人直接除名。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;而上述制约模式都与区块链存在或多或少的悖论。
强信任模式，带了中心化的仲裁模式。惩罚机制，只是形成约束，并未能有效阻止发生。&lt;/p&gt;

&lt;h4 id=&quot;信任机制风险&quot;&gt;信任机制风险&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;认可替代信任。即POW模式，获得随机数即被认可。无需其余节点信任。优点：去信任，随时进行认可确定。缺点：POW存在的所有问题。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;强信用模式，类似CA证书链。根节点为强信用节点，为子节点进行链式分发，并为子节点实现链式隐形信任担保。作为强信用模式，必然形成中心化。优点：自身权威性。缺点：违背了区块链去中心化，需要强力信用进行背书。例如：以太坊上的ORACLE提供商，如何确定其仲裁的合法性。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;信任的发展机制&quot;&gt;信任的发展机制&lt;/h4&gt;
&lt;p&gt;在人类历史角度中看信任的发展，都从陌生到认定，再从认定到信任，信任到权威的发展方式。而这一系列的信任转化，就形成了现有信用链。强信用模式下，往往&lt;/p&gt;

</description>
        <pubDate>Fri, 30 Mar 2018 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E9%97%AE%E9%A2%98%E6%8E%A2%E8%AE%A8/2018/03/30/blockchain-bug/</link>
        <guid isPermaLink="true">http://localhost:4000/%E9%97%AE%E9%A2%98%E6%8E%A2%E8%AE%A8/2018/03/30/blockchain-bug/</guid>
        
        <category>block-chain</category>
        
        
        <category>问题探讨</category>
        
      </item>
    
      <item>
        <title>jmessage-IM</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;因公司原技术选型使用极光，现需开发IM工具，和原有推送打通。为保持业务流通对接，避免再造轮子。还是以极光IMSDK作为开发载体。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;前期准备&quot;&gt;前期准备&lt;/h4&gt;
&lt;p&gt;再确定选用极光技术进行开发后，依照现有人才储备和对接平台,快速开发原则。选定前端QT/C++，后端C#。&lt;/p&gt;
&lt;h5 id=&quot;技术选型&quot;&gt;技术选型：&lt;/h5&gt;
&lt;p&gt;1.&lt;a href=&quot;https://www.jiguang.cn/&quot;&gt;极光平台&lt;/a&gt;
2.&lt;a href=&quot;https://github.com/jpush/jchat-windows&quot;&gt;前端QT/C++&lt;/a&gt;
3.&lt;a href=&quot;https://github.com/jpush/jmessage-api-csharp-client&quot;&gt;后端C#&lt;/a&gt;&lt;/p&gt;

&lt;h5 id=&quot;开发工具&quot;&gt;开发工具：&lt;/h5&gt;
&lt;p&gt;1.&lt;a href=&quot;https://www.visualstudio.com/zh-hans/downloads/&quot;&gt;vs2017 社区版本&lt;/a&gt;
因前端使用c++17标准，为开发方便，选择VS2017开发。开发工作量较小，选择社区版本免费.&lt;/p&gt;

&lt;p&gt;2.&lt;a href=&quot;https://download.qt.io/archive/qt/&quot;&gt;QT&lt;/a&gt;
因QT不提供vs2017-X86版本，如果需自己自行编译。建议&lt;a href=&quot;https://pan.baidu.com/s/1cgy7hG#list/path=%2F&quot;&gt;下载编译完全版本&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;3.&lt;a href=&quot;https://download.qt.io/development_releases/vsaddin/&quot;&gt;QT 插件&lt;/a&gt;
方便项目QT转化。&lt;/p&gt;

&lt;h5 id=&quot;版本安装&quot;&gt;版本安装：&lt;/h5&gt;
&lt;p&gt;1.vs2017 选择前三种开发环境，桌面开发，C++，C#。
2.QT选择VS2017 msvc32及64。
2.QT插件安装。&lt;/p&gt;

&lt;h5 id=&quot;极光项目申请key&quot;&gt;极光项目申请KEY&lt;/h5&gt;
&lt;p&gt;1.注册极光项目
2.获取 AppKey 及 Master Secret&lt;/p&gt;

&lt;h5 id=&quot;第三方程序--electron-通信&quot;&gt;第三方程序 &amp;amp; electron 通信&lt;/h5&gt;
&lt;p&gt;1.使用命令行调用&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;process.argv[1]
mainWindow.loadURL&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;process.argv[2]&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;2.electron 增加 nodejs server. 通过url传参数&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;?url&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://www.xx.com
http.server
url.parse&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;req.url,true&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
        <pubDate>Thu, 15 Mar 2018 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C/2018/03/15/jmessage-Im/</link>
        <guid isPermaLink="true">http://localhost:4000/%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C/2018/03/15/jmessage-Im/</guid>
        
        <category>jpush</category>
        
        <category>IM</category>
        
        
        <category>开发工作</category>
        
      </item>
    
      <item>
        <title>etherum &amp; geth CLI</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;前面介绍了以太坊生成的执行程序，作为主要执行程序geth，将作为分析的首要分析对象。首先从其输入命令标示分析开始。&lt;/p&gt;
  &lt;h3 id=&quot;geth&quot;&gt;geth&lt;/h3&gt;
  &lt;p&gt;以太坊CLI（command-line interface）命令行客户端。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;geth--help&quot;&gt;geth -help&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;geth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ethereum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt;

   &lt;span class=&quot;no&quot;&gt;Copyright&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2013&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2017&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ethereum&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Authors&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;USAGE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;geth&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
   
&lt;span class=&quot;no&quot;&gt;VERSION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;mf&quot;&gt;1.8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unstable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fa375955&lt;/span&gt;
   
&lt;span class=&quot;no&quot;&gt;COMMANDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;account&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Manage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;accounts&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;attach&lt;/span&gt;      &lt;span class=&quot;no&quot;&gt;Start&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interactive&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JavaScript&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;environment&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;bug&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;opens&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;report&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bug&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geth&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;console&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Start&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interactive&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JavaScript&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;environment&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;copydb&lt;/span&gt;      &lt;span class=&quot;no&quot;&gt;Create&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chaindata&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;folder&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;dump&lt;/span&gt;        &lt;span class=&quot;no&quot;&gt;Dump&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;specific&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storage&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;dumpconfig&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;Show&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configuration&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;export&lt;/span&gt;      &lt;span class=&quot;no&quot;&gt;Export&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blockchain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;      &lt;span class=&quot;no&quot;&gt;Import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blockchain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;        &lt;span class=&quot;no&quot;&gt;Bootstrap&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;initialize&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;genesis&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;js&lt;/span&gt;          &lt;span class=&quot;no&quot;&gt;Execute&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;specified&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JavaScript&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;files&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;license&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Display&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;license&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;information&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;makecache&lt;/span&gt;   &lt;span class=&quot;no&quot;&gt;Generate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ethash&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verification&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cache&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;makedag&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Generate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ethash&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mining&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;DAG&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;testing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;monitor&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Monitor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;visualize&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;metrics&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;removedb&lt;/span&gt;    &lt;span class=&quot;no&quot;&gt;Remove&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blockchain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;databases&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Print&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;version&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numbers&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;wallet&lt;/span&gt;      &lt;span class=&quot;no&quot;&gt;Manage&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Ethereum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;presale&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wallets&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;help&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;     &lt;span class=&quot;no&quot;&gt;Shows&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;help&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;command&lt;/span&gt;
   
&lt;span class=&quot;no&quot;&gt;ETHEREUM&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;OPTIONS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                                   &lt;span class=&quot;no&quot;&gt;TOML&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configuration&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datadir&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/Users/Library/Ethereum&quot;&lt;/span&gt;              &lt;span class=&quot;no&quot;&gt;Data&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;directory&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;databases&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keystore&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keystore&lt;/span&gt;                                       &lt;span class=&quot;no&quot;&gt;Directory&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keystore&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inside&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datadir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nousb&lt;/span&gt;                                          &lt;span class=&quot;no&quot;&gt;Disables&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;monitoring&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;managing&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;USB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hardware&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wallets&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;networkid&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                                &lt;span class=&quot;no&quot;&gt;Network&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Frontier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Morden&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;disused&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Ropsten&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Rinkeby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;default: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;testnet&lt;/span&gt;                                        &lt;span class=&quot;no&quot;&gt;Ropsten&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;network: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pre&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configured&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proof&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;work&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rinkeby&lt;/span&gt;                                        &lt;span class=&quot;no&quot;&gt;Rinkeby&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;network: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pre&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;configured&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proof&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;syncmode&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;fast&quot;&lt;/span&gt;                                &lt;span class=&quot;no&quot;&gt;Blockchain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fast&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;light&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gcmode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                                   &lt;span class=&quot;no&quot;&gt;Blockchain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;garbage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;archive&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;default: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;full&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ethstats&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                                 &lt;span class=&quot;no&quot;&gt;Reporting&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ethstats&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nodename&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:secret&lt;/span&gt;&lt;span class=&quot;vi&quot;&gt;@host&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;identity&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                                 &lt;span class=&quot;no&quot;&gt;Custom&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lightserv&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                                &lt;span class=&quot;no&quot;&gt;Maximum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;percentage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;allowed&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serving&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;default: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lightpeers&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;                               &lt;span class=&quot;no&quot;&gt;Maximum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;LES&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;peers&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;default: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lightkdf&lt;/span&gt;                                       &lt;span class=&quot;no&quot;&gt;Reduce&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;derivation&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;RAM&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CPU&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;some&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expense&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;KDF&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strength&lt;/span&gt;
  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;命令分析&quot;&gt;命令分析&lt;/h4&gt;
&lt;p&gt;account: 账户管理
attach: 连接到JavaScript交互环境
bug: 打开一个新窗口报告geth库的bug
console: 开启一个JavaScript交互环境
copydb: 从一个目标莲数据文件夹拷贝到本地的链上
dump: 从存储中删除掉一个指定的区块
dumpconfig: 显示配置值
export: 导出区块链到文件
import: 从文件导入区块链
init: 通过一个向导初始化一个新的创世区块(genesis block!)
js: 执行一个指定的JavaScript文件
license: 展示许可信息
makecache: 生成ethash校验缓存（用于测试），ethash是以太坊的计划性的PoW（工作量证明）算法。
makedag: 生成ethash挖矿DAG(用于测试)，DAG是一个比特币的扩容方案
monitor: 监控使节点权值可视化
removedb: 除去区块链和状态数据库
version: 打印版本号
wallet: 管理以太坊预售钱包、
help: 帮助命令&lt;/p&gt;

</description>
        <pubDate>Fri, 02 Feb 2018 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2018/02/02/etherum-code-analy-geth/</link>
        <guid isPermaLink="true">http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2018/02/02/etherum-code-analy-geth/</guid>
        
        <category>code</category>
        
        <category>etherum</category>
        
        
        <category>源码分析</category>
        
      </item>
    
      <item>
        <title>etherum &amp; trie</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;包trie 实现了MPT(Merkle Patricia Tries)数据结构，这种数据结构实际上是一种Trie树变种。MPT是以太坊中一种非常重要的数据结构，用来存储用户账户的状态及其变更、交易信息、交易的收据信息。MPT实际上是三种数据结构的组合，分别是Trie树， Patricia Trie， 和Merkle树。下面分别介绍这三种数据结构。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;trie-tree&quot;&gt;Trie Tree&lt;/h4&gt;
&lt;p&gt;Trie树，又称字典树，单词查找树或者前缀树，是一种用于快速检索的多叉树结构，如英文字母的字典树是一个26叉树，数字的字典树是一个10叉树。&lt;/p&gt;

&lt;p&gt;Trie树可以利用字符串的公共前缀来节约存储空间。如下图所示，该trie树用10个节点保存了6个字符串：tea，ten，to，in，inn，int：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/reproduce/2017-08-15-etherum-code-analy-trie-1.jpg&quot; alt=&quot;image01&quot; /&gt;&lt;/p&gt;

&lt;p&gt;在该trie树中，字符串in，inn和int的公共前缀是“in”，因此可以只存储一份“in”以节省空间。当然，如果系统中存在大量字符串且这些字符串基本没有公共前缀，则相应的trie树将非常消耗内存，这也是trie树的一个缺点。&lt;/p&gt;

&lt;p&gt;Trie树的基本性质可以归纳为：&lt;/p&gt;

&lt;p&gt;根节点不包含字符，除根节点以外每个节点只包含一个字符。
从根节点到某一个节点，路径上经过的字符连接起来，为该节点对应的字符串。
每个节点的所有子节点包含的字符串不相同。&lt;/p&gt;

&lt;h4 id=&quot;patricia-trie&quot;&gt;Patricia Trie&lt;/h4&gt;
&lt;p&gt;前缀树跟Trie树的不同之处在于Trie树给每一个字符串分配一个节点，这样将使那些很长但又没有公共节点的字符串的Trie树退化成数组。在以太坊里面会由黑客构造很多这种节点造成拒绝服务攻击。前缀树的不同之处在于如果节点公共前缀，那么就使用公共前缀，否则就把剩下的所有节点插入同一个节点。Patricia相对Tire的优化正如下图：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/reproduce/2017-08-15-etherum-code-analy-trie-2.png&quot; alt=&quot;image02&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/reproduce/2017-08-15-etherum-code-analy-trie-2-1.png&quot; alt=&quot;image02-1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;上图存储的8个Key Value对，可以看到前缀树的特点。&lt;/p&gt;

&lt;p&gt;Key	value
6c0a5c71ec20bq3w	5
6c0a5c71ec20CX7j	27
6c0a5c71781a1FXq	18
6c0a5c71781a9Dog	64
6c0a8f743b95zUfe	30
6c0a8f743b95jx5R	2
6c0a8f740d16y03G	43
6c0a8f740d16vcc1	48&lt;/p&gt;

&lt;h4 id=&quot;merkle-tree&quot;&gt;Merkle Tree&lt;/h4&gt;
&lt;p&gt;Merkle Tree，通常也被称作Hash Tree，顾名思义，就是存储hash值的一棵树。Merkle树的叶子是数据块(例如，文件或者文件的集合)的hash值。非叶节点是其对应子节点串联字符串的hash。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/reproduce/2017-08-15-etherum-code-analy-trie-3.png&quot; alt=&quot;image03&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Merkle Tree的主要作用是当我拿到Top Hash的时候，这个hash值代表了整颗树的信息摘要，当树里面任何一个数据发生了变动，都会导致Top Hash的值发生变化。 而Top Hash的值是会存储到区块链的区块头里面去的， 区块头是必须经过工作量证明。 这也就是只要拿到一个区块头，就可以对整个区块链信息进行验证。&lt;/p&gt;

&lt;h4 id=&quot;etherum-mpt&quot;&gt;etherum MPT&lt;/h4&gt;
&lt;p&gt;每个区块链头都包含三个MPT树。包含交易树，收据树，状态树。&lt;/p&gt;
</description>
        <pubDate>Thu, 01 Feb 2018 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2018/02/01/etherum-code-analy-trie/</link>
        <guid isPermaLink="true">http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2018/02/01/etherum-code-analy-trie/</guid>
        
        <category>code</category>
        
        <category>etherum</category>
        
        
        <category>源码分析</category>
        
      </item>
    
      <item>
        <title>etherum &amp; code analysis</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;区块链作为新的技术，能否真正产生效率，一直是大家争论的话题。但随着数字货币，例如比特币，以太币兑换法币的价值越来越高的时候。争论似乎都已经停止，如何加入到这个资本盛宴才是大家最急迫的一件事。如何真正的了解以太坊等数字平台，不被眼前所蒙蔽，源码称为了解其本质的唯一途径。源码即是真理。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;何为以太坊&quot;&gt;何为以太坊？&lt;/h4&gt;
&lt;blockquote&gt;
  &lt;p&gt;作为了解一个新事物的入口，必然需要知道它是什么，从哪来，能干什么。所以从缘由说起更能很好的了解。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以太坊（英语：Ethereum）是一个开源的有智能合约功能的公共区块链平台。通过其专用加密货币以太币（Ether，又称“以太币”）提供去中心化的虚拟机（称为“以太虚拟机”Ethereum Virtual Machine）来处理点对点合约。&lt;/p&gt;

&lt;p&gt;区块链(Blockchain)是指通过去中心化和去信任的方式集体维护一个可靠数据库的技术方案。该技术方案让参与系统中的任意多个节点，把一段时间系统内全部事务通过密码学算法计算并记录到一个数据块(block)，生成该数据块的hash用于链接下个数据块，系统所有参与节点来共同检验记录是否为真，并且每个区块的内容都由后续子链上的区块来保证其内容不可被篡改。各个参与节点可以在新区块产生确认及奖励分配上达成共识，从而逐渐形成的一个庞大、去中心化的公开账本。&lt;/p&gt;

&lt;h4 id=&quot;源码分析准备&quot;&gt;源码分析准备&lt;/h4&gt;

&lt;h5 id=&quot;资料准备&quot;&gt;资料准备&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://ethdocs.org/en/latest/introduction/what-is-ethereum.html&quot;&gt;以太坊文档资料&lt;/a&gt;[英文]&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;源码准备&quot;&gt;源码准备&lt;/h5&gt;
&lt;ol&gt;
  &lt;li&gt;以太坊源码地址 &lt;a href=&quot;https://github.com/ethereum/go-ethereum&quot;&gt;Go Ethereum&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;以太合约语言地址 &lt;a href=&quot;https://github.com/ethereum/solidity&quot;&gt;Solidity&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;go语言开发套件 &lt;a href=&quot;https://www.jetbrains.com/go/&quot;&gt;goLand&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;cpp语言开发套件 &lt;a href=&quot;https://developer.apple.com/xcode/&quot;&gt;xcode&lt;/a&gt; [因本人是MAC系统所以选择自带Xcode，windows系统 建议选Visual Studio开发套件]&lt;/li&gt;
  &lt;li&gt;编辑器套件 &lt;a href=&quot;https://code.visualstudio.com/Download&quot;&gt;visual stdio code&lt;/a&gt; [vscode不仅作为编辑器使用，也可以通过配置go,cpp等套件进行对应开发套件]&lt;/li&gt;
&lt;/ol&gt;

&lt;h5 id=&quot;下载源码&quot;&gt;下载源码&lt;/h5&gt;
&lt;p&gt;下载Go Ethereum并编译源码&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ethereum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ethereum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;git&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;go&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ethereum&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;8.0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geth&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;查看geth版本信息&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geth&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Geth&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unstable&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Git&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fa375955ad52bc7936f33c8d8cec68fb9007baaa&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Architecture&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;amd64&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Protocol&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Versions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;63&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Network&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Go&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;go1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;8.3&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Operating&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;darwin&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;执行程序&quot;&gt;执行程序&lt;/h4&gt;
&lt;blockquote&gt;
  &lt;p&gt;cd ./build/bin&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;获得12个执行程序
abigen,bootnode,ethkey,evm,examples,faucet,geth,p2psim,puppeth,ripdump,swarm,wnode&lt;/p&gt;

&lt;p&gt;关键执行程序：
【geth】:以太坊CLI（command-line interface）命令行客户端。它是作为连接以太坊网络的入口节点，以太坊网络包括主网络（现交易真实公有链网络），测试网络（应用测试环境网络），专用网络（自行的搭建私有链网络）。Geth默认能作为一个完整节点运行，并且可以作为单独回溯节点（保留所有历史数据）及轻量节点（实时数据检索）。它可以被其他进程用作进入以太坊网络的网关，通过HTTP，WebSocket，IPC传输或者JSON RPC访问。&lt;/p&gt;

&lt;p&gt;【abigen】：源代码生成器。它将以太坊智能合约定义(代码) 转换为易于使用的、编译时类型安全的Go软件包。 如果合约字节码可用的话，它可以在易用的以太坊智能合约ABI(Application Binary Interface)二进制应用接口上扩展功能。 同时也能编译Solidity源文件，使开发更加精简。&lt;/p&gt;

&lt;p&gt;【bootnode】：网络节点发现应用（以太坊客户端节点发现功能）。只参与网络节点的发现，不能运行任何更高级别的应用程序协议。它作为轻量级引导节点来帮助找到专用网络中的对等设备。&lt;/p&gt;

&lt;p&gt;【ethkey】: 密钥生成管理应用（以太坊客户端密钥管理）。具有生成密钥，检查密钥的管理功能。对发送消息进行签名及消息签名验证。&lt;/p&gt;

&lt;p&gt;【evm】:EVM（Ethereum Virtual Machine）可以进行开发实用工具版本的以太坊虚拟机。能够在可配置的环境和执行模式下运行字节码片段。其目的是允许对EVM操作码进行封装，细粒度的调试。&lt;/p&gt;

&lt;p&gt;【examples】:节点适配器例子。适配使用SIM,exec,docker.&lt;/p&gt;

&lt;p&gt;【faucet】:-未知。从帮助中看应该是对以太坊网络进行配置。后面源码分析再重新整理。&lt;/p&gt;

&lt;p&gt;【p2psim】:p2p仿真网络命令行工具。后面源码分析再重新整理。&lt;/p&gt;

&lt;p&gt;【puppeth】:管理私有以太坊网络工具。安装和维护私有以太坊网络工具。后面源码分析再重新整理。&lt;/p&gt;

&lt;p&gt;【ripdump】:RLP (Recursive Length Prefix) 前缀长度递归转换开发者通用工具，用来把二进制前缀长度递归 (以太坊协议中用于网络及一致性的数据编码) 转换成对用户友好的分层表示。&lt;/p&gt;

&lt;p&gt;【swarm】: swarm守护进程和工具。作为swarm网络的入口点。&lt;/p&gt;

&lt;p&gt;【wnode】:-未知&lt;/p&gt;

&lt;p&gt;以上为生成的执行程序。&lt;/p&gt;

</description>
        <pubDate>Thu, 01 Feb 2018 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2018/02/01/etherum-code-analy/</link>
        <guid isPermaLink="true">http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2018/02/01/etherum-code-analy/</guid>
        
        <category>code</category>
        
        <category>etherum</category>
        
        
        <category>源码分析</category>
        
      </item>
    
      <item>
        <title>electron &amp; inno &amp; demo</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;electron作为跨平台，基于Chrome内核的开发平台，为B端转C段带了快速有效的应用。如何有效成为跨平台全栈平台,electron称为一个不错的桥梁工具。&lt;/p&gt;
  &lt;h4 id=&quot;electron简介&quot;&gt;electron简介&lt;/h4&gt;
  &lt;p&gt;1.https://electronjs.org/docs
2.https://github.com/electron/electron-api-demos
3.https://www.w3cschool.cn/electronmanual/&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;需要开发的模块&quot;&gt;需要开发的模块&lt;/h4&gt;
&lt;p&gt;1.增加按键，https://electronjs.org/docs/api/screen 
2.及最大最小化 https://electronjs.org/docs/api/accelerator
2.缓存获取cookies https://electronjs.org/docs/api/cookies 
实现记住密码http://blog.csdn.net/changhuzhao/article/details/78773279
 session和cookie的使用方法、区别，和分别实现验证登录状态http://blog.csdn.net/kevin_cyj/article/details/51203769
3.js交互 https://electronjs.org/docs/api/web-contents
3.自动登陆
4.消息系统托盘 https://electronjs.org/docs/api/tray&lt;/p&gt;

&lt;p&gt;#开发工具准备
1.webstorm
2.node &amp;amp; npm&lt;/p&gt;

&lt;p&gt;5.&lt;/p&gt;
&lt;h4 id=&quot;npm库&quot;&gt;npm库&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;“electron”: “~1.6.2”,&lt;/li&gt;
  &lt;li&gt;“electron-packager”: “^8.6.0”,&lt;/li&gt;
  &lt;li&gt;“electron-winstaller”: “^2.2.0”,&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1.eslint js编码标准
2.yarn 快速安装
3.gulp&lt;/p&gt;

&lt;h4 id=&quot;使用的例子&quot;&gt;使用的例子&lt;/h4&gt;
&lt;p&gt;1.https://www.jianshu.com/p/57d910008612&lt;/p&gt;

&lt;h4 id=&quot;环境调试&quot;&gt;环境调试&lt;/h4&gt;
&lt;p&gt;命令行调试:electron . –debug&lt;/p&gt;

&lt;h5 id=&quot;webstorm-set&quot;&gt;webstorm set&lt;/h5&gt;
&lt;p&gt;1.新增 node.js 作为调试模块
2.设置 Node interpreter : 选择node_module/.bin/electron [windows：electron.cmd]
3.设置 Node parameters : . –debug [. 执行当前目录 –debug 做调试]
4.设置 Working directory : 当前目录
5.设置 Javascript file : main.js&lt;/p&gt;

&lt;h5 id=&quot;vscode-set&quot;&gt;vscode set&lt;/h5&gt;
&lt;p&gt;1.&lt;/p&gt;

&lt;h4 id=&quot;目标制定&quot;&gt;目标制定&lt;/h4&gt;
&lt;p&gt;1.将现有网站进行包装，通过electron远程访问。
（1）屏蔽快捷方式，右键菜单。依照项目需求增加屏蔽快捷方式，右键菜单。
需要屏蔽调试模拟，右键源码。
（2）处理xp的消息弹出。
（3）处理远程调用网页。
（4）flash插件&lt;/p&gt;

&lt;h5 id=&quot;flash调用main-process&quot;&gt;flash调用（main-process）&lt;/h5&gt;
&lt;p&gt;1.&lt;a href=&quot;http://get.adobe.com/cn/flashplayer/about/&quot;&gt;获取各版本插件对应信息&lt;/a&gt;
2.&lt;a href=&quot;https://get2.adobe.com/cn/flashplayer/&quot;&gt;下载各系统安装pdf版本&lt;/a&gt;
3.
(1)windows
Flash Player 插件安装好后，Windows系统可以在以下路径找到相应的dll文件 
C:\Windows\System32\Macromed\Flash\pepflashplayer64_23_0_0_207.dl 
C:\Windows\SysWOW64\Macromed\Flash\pepflashplayer32_23_0_0_207.dll 
(2)mac
Flash Player 插件安装好后，mac系统可以在一下路径找到相应的plugin文件
/Library/Internet Plug-Ins/PepperFlashPlayer/PepperFlashPlayer.plugin
(3)linux&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BrowserWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'electron'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'path'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;指定&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;路径，假定它与&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;js&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;放在同一目录中。&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pluginName&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'win32'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;pluginName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'pepflashplayer.dll'&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'darwin'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;pluginName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'PepperFlashPlayer.plugin'&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'linux'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;pluginName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'libpepflashplayer.so'&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;commandLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;appendSwitch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ppapi-flash-path'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pluginName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  
  &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;可选：指定&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flash&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;的版本，例如&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v17&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;169&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;commandLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;appendSwitch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ppapi-flash-version'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'17.0.0.169'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  
  &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ready'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;win&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;BrowserWindow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;width: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;800&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;height: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;webPreferences: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;plugins: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;win&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;loadURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`file://${__dirname}/index.html`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;sr&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;一些别的什么&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;notificationrenderer-process&quot;&gt;Notification（renderer-process）&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;n&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'path'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;title: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Basic Notification&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;body: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Short message part&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;url: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://www.baidu.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;title: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Content-Image Notification&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;body: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Short message plus a custom content image&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;icon: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'icon.png'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doNotify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;evt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myNotification&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;evt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;srcElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;basic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;myNotification&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;myNotification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;onclick&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'通知被点击basic'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;evt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;srcElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;myNotification&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Notification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;myNotification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;onclick&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'通知被点击image'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'DOMContentLoaded'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;basic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doNotify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;click&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doNotify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
        <pubDate>Tue, 21 Mar 2017 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2017/03/21/electron-demo/</link>
        <guid isPermaLink="true">http://localhost:4000/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/2017/03/21/electron-demo/</guid>
        
        <category>code</category>
        
        <category>electron</category>
        
        <category>demo</category>
        
        
        <category>源码分析</category>
        
      </item>
    
      <item>
        <title>x.509</title>
        <description>&lt;h3 id=&quot;x509&quot;&gt;X.509&lt;/h3&gt;

&lt;p&gt;X.509是一种数字证书格式。数字证书是由权威机构——CA机构，又称为证书授权（Certificate Authority）中心发行的。用于对数字身份信息进行授权，用于验证的证书信息。&lt;/p&gt;

&lt;h4 id=&quot;常见数据格式&quot;&gt;常见数据格式&lt;/h4&gt;
&lt;p&gt;cer/crt是用于存放证书，它是2进制形式存放的，不含私钥。&lt;/p&gt;

&lt;p&gt;pem跟crt/cer的区别是它以Ascii来表示，可以用于存放证书或私钥。&lt;/p&gt;

&lt;p&gt;pfx/p12用于存放个人证书/私钥，他通常包含保护密码，2进制方式。&lt;/p&gt;

&lt;p&gt;p10是证书请求。&lt;/p&gt;

&lt;p&gt;p7r是CA对证书请求的回复，只用于导入&lt;/p&gt;

&lt;p&gt;p7b以树状展示证书链(certificate chain)，同时也支持单个证书，不含私钥。&lt;/p&gt;

&lt;h4 id=&quot;x509-数据格式&quot;&gt;x.509 数据格式&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;n&quot;&gt;TBSCertificate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEQUENCE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;           &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;EXPLICIT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Version&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;        &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.509&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;具体版本号&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;serialNumber&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;CertificateSerialNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;            &lt;span class=&quot;err&quot;&gt;#序列号加上唯一标示当前证书&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;signature&lt;/span&gt;               &lt;span class=&quot;n&quot;&gt;AlgorithmIdentifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                &lt;span class=&quot;err&quot;&gt;#证书签名的算法&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;issuer&lt;/span&gt;                  &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                               &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CA&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;的&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.509&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;名字&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;validity&lt;/span&gt;                &lt;span class=&quot;n&quot;&gt;Validity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                           &lt;span class=&quot;err&quot;&gt;#有效期的起止时间&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;subject&lt;/span&gt;                 &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;                               &lt;span class=&quot;err&quot;&gt;#该证书所证明的密钥所有者实体&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;subjectPublicKeyInfo&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;SubjectPublicKeyInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;               &lt;span class=&quot;err&quot;&gt;#主题的公钥即使用算法的&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;issuerUniqueID&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;IMPLICIT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UniqueIdentifier&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPTIONAL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#可选的&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;，唯一标示证书的颁发者&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;subjectUniqueID&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;IMPLICIT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UniqueIdentifier&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPTIONAL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#可选的&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;，唯一标示证书的主题&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;extensions&lt;/span&gt;        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;EXPLICIT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Extensions&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OPTIONAL&lt;/span&gt;        &lt;span class=&quot;err&quot;&gt;#目前定义的扩展域&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
</description>
        <pubDate>Thu, 23 Apr 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E7%AC%94%E8%AE%B0/2015/04/23/x509/</link>
        <guid isPermaLink="true">http://localhost:4000/%E7%AC%94%E8%AE%B0/2015/04/23/x509/</guid>
        
        <category>openssl</category>
        
        <category>CA</category>
        
        
        <category>笔记</category>
        
      </item>
    
      <item>
        <title>Encryption algorithm summary</title>
        <description>&lt;p&gt;在一般通过公开算法将原始信息进行编码称为：编码，摘要，加解密
1.编码 公开编解码算法，对数据进行编码。例如bas64,zip,flac. 一般目的对数字文件进行压缩，并保证无损。（也有有损编码）&lt;/p&gt;

&lt;h3 id=&quot;加密算法&quot;&gt;加密算法&lt;/h3&gt;
&lt;p&gt;根据密钥类型不同可以将现代密码技术分为两类：对称加密算法（私钥密码体系）和非对称加密算法（公钥密码体系）。&lt;/p&gt;

&lt;h4 id=&quot;对称加密与非对称加密算法比较&quot;&gt;对称加密与非对称加密算法比较&lt;/h4&gt;
&lt;p&gt;1.对称加密相对资源消耗较少，加解密速度快。&lt;/p&gt;

&lt;h3 id=&quot;不可逆算法&quot;&gt;不可逆算法&lt;/h3&gt;
&lt;p&gt;主要特征：
单向性
抗冲突性&lt;/p&gt;

&lt;p&gt;主要应用：
数字指纹
密码加密&lt;/p&gt;

&lt;p&gt;不可逆算法通常是指通过散列计算的算法，因其英文名称HASH被英译名为“哈希”。通过散列计算的方法称为“哈希函数”。
散列计算是指不论输入计算长度杜少，最后通过计算方法生成相同的输出长度。&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;散列算法包括：MD4,MD5,SHA1,SHA2,SHA256,PBKDF2,bcrypt,scrypt等。
因散列函数特殊性，通常在抗碰撞性上弱，为弥补其缺失。一般通过增加算法迭代，延长算法计算时间，增加算力，等效来增加破解所需算法时间，以其来加大破解投入成本，增加破解安全性。
而通过这种方式发展以，MD5,SHA256为代表的快算，PBKDF2，bcrypt为代表的慢散列。
PBKDF（Password-Based Key Derivation Funcation 给予口令的密钥函数），输出结果为DK（deviced key）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;主要围绕：口令密码，算力成本&lt;/p&gt;

&lt;h4 id=&quot;快函数优缺点&quot;&gt;快函数优缺点&lt;/h4&gt;

&lt;h4 id=&quot;慢函数优缺点&quot;&gt;慢函数优缺点&lt;/h4&gt;
&lt;p&gt;1.【放置服务器】消耗算力资源，如果放置服务器计算，大量用户连接会导致速度下降。
2.【放置前端】应为计算时间，可以有效防止使用彩虹表爆库。
应为用户端资源较为闲置，使用前端使用慢函数加密。
（1）如果前端被破解，获取算法。但应为算力成本问题，进行暴力破解时间成本高。（类似POW）
（2）目的通过输入口令获取秘钥。输出结果为DK.
3.Zero-knowlege proof （零知识证明）
证明者在不透露任何有用信息情况下，使验证者相信某个论断是正确的。
通过前端运算，发送后端比较，可以证明用户输入的是正确信息。而不需要存储在后端数据库。&lt;/p&gt;

&lt;h4 id=&quot;应用场景&quot;&gt;应用场景&lt;/h4&gt;
&lt;p&gt;一般通过前后端算法结合。
1.前端 使用慢散列， 增加算力成本，
2.后段 使用快散列， 防止Dk泄漏。
新函数：f(key) = server_hash(client_hash(key) + salt)
key = 密码+用户名（用户名作为salt）&lt;/p&gt;

&lt;p&gt;1.应为放入后台的是DK，可以有效防止脱库。（需要破解前段，加密，就算获取仍然可以阻止生成特定字典）&lt;/p&gt;

&lt;p&gt;为弥补用户密码的弱属性，一般会使用添加salt，即英意译名“加盐”。
salt的使用
1.增加抗冲突性，通常通过随机字符串生成库，生成散列用户密码长度。（存储不方便，为避免脱裤，一般分开存储，增加脱裤难度）
2.通过数据库固定字段，生成salt字段。降低抗冲突性。（无需存储，基于固定数据生成，减少撞库难度）
3.通过验证传输salt值，形成所需生成新值。完全避免重放攻击。（对于数据传输要求较强，增加前段，后段算力资源）&lt;/p&gt;

&lt;h4 id=&quot;对抗预算-彩虹表&quot;&gt;对抗预算 （彩虹表）&lt;/h4&gt;
&lt;p&gt;彩虹表是一个用于加密散列函数 逆运算的预先表。主要用于破解密码的散列值准备。这个是典型的内存换时间处理方式。
通常彩虹表会收集现在常用用户名和密码进行生成，用于穷聚暴力破解。为了减少查询，一般使用小部分哈希值，生成对应可逆向的密码长链（多个密码）&lt;/p&gt;
&lt;h5 id=&quot;salt-加盐&quot;&gt;salt (加盐)&lt;/h5&gt;

&lt;h4 id=&quot;防止dk泄漏&quot;&gt;防止DK泄漏&lt;/h4&gt;
&lt;p&gt;DK生命周期&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;浏览器-》传输-》服务器-》数据库&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;DK泄漏一般：网络传输被窃听。
Dk无意义长链，所以获取无法获取到口令。（可以保证不会通过口令，导致其他账户被盗窃）&lt;/p&gt;

&lt;p&gt;一般浏览器应用，直接使用密码管理插件，用户口令不再向后端发送，而只发送DK。就算最悲观，（服务器中毒，传输窃听，后段存储） 也只是导致当前账号不可用，不会导致其他账号被破解。&lt;/p&gt;

&lt;p&gt;如果遗忘密码，直接让用户生成新密码。
遗忘密码验证，增加手机绑定，用户信息验证等。&lt;/p&gt;

&lt;h4 id=&quot;web应用&quot;&gt;WEb应用&lt;/h4&gt;
&lt;p&gt;旧有内置前段KDF计算网站不多，在IE时代，浏览器算力低下，导致前段计算意义不大，都由后段计算观念造成的。
现有浏览器性能大幅提升，HTML5引入了WEBcrypto规范。JS直接调用浏览器内置密码学算法库，包含PBKDF2.应为原生性能非常高。
作为口令哈希函数，只是套用了现有哈希函数，并未针对进行设计。新性argon2应为太新，为进行验证。尚未收录WEBcrypto中。&lt;/p&gt;

</description>
        <pubDate>Thu, 26 Mar 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E7%AC%94%E8%AE%B0/2015/03/26/Encryption-algorithm-summary/</link>
        <guid isPermaLink="true">http://localhost:4000/%E7%AC%94%E8%AE%B0/2015/03/26/Encryption-algorithm-summary/</guid>
        
        <category>密码学</category>
        
        <category>算法</category>
        
        
        <category>笔记</category>
        
      </item>
    
      <item>
        <title>SSL/TLS &amp; MIN</title>
        <description>&lt;h4 id=&quot;简述&quot;&gt;简述&lt;/h4&gt;
&lt;blockquote&gt;
  &lt;p&gt;SSL/TLS MIN (SSL/TLS man in the middle) 中间人攻击&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;blockquote&gt;
    &lt;p&gt;SSL(secure sockets layer) 是介于传输层和应用层之间，提供通信数据的安全性和完整性的网络协议。主要提供：
1.使用证书确认用户和服务器。（身份认证）
2.在通信数据尾部添加校验码，防止中途篡改。（数据完整性）
3.加密通信数据和校验码，防止中途窃取。（数据保密性）&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;p&gt;SSL握手协议主要由四个协议完成：
*握手协议
*密码规则协议
*记录协议
*警告协议&lt;/p&gt;

&lt;h4 id=&quot;优点&quot;&gt;优点&lt;/h4&gt;

&lt;h4 id=&quot;缺陷&quot;&gt;缺陷&lt;/h4&gt;

&lt;h4 id=&quot;基础流程wireshark&quot;&gt;基础流程（wireshark）&lt;/h4&gt;
&lt;blockquote&gt;
  &lt;blockquote&gt;
    &lt;p&gt;SSL通信流程
*客户端向服务器发送 会话ID，可用SSL版本号，当前时间，支持加密算法清单，支持压缩方式清单，产生随机数 Client-Secret（明文）。
*服务器端向客户端发送 会话ID，使用SSL版本号，当前时间，使用加密算法清单，使用压缩方式，产生随机数 Server-Secret（明文）。
*服务端将自己的证书发送给客户端。（证书包含公钥）【如果证书中信息不足，RSA协议需要提供公钥密码参数，DK协议需要提供密钥交换参数及公开值】
*客户端验证服务器的合法性（CA根证书及证书链是否可靠，发行者公钥是否验证证书签名，证书域名是否和实际域名匹配，证书是否过期），合法性验证失败，直接断开。成功继续下一步通信。【如果设置服务器需要验证客户端，需要提供客户端证书】
*客户端产生新主随机数 Pre-Master-Secret（密文），并用服务端证书中的公钥加密，并发送给服务器端。
*服务器端使用自己的私钥来解密随机数。
*双方根据约定的加密方法，使用前面的三个随机数，生成对话密钥（Session key）,用来加密整个对话过程。
备注：为何需要三个随机数，而不只是需要最后生成Pre-Master-Key.应为不管是客户端，服务端都需要随机数。为保证协商出得密钥的随机性，所以需要引入随机因素来保证。Pre-Master 存在应为SSL协议不信任每个主机完全能生成随机的随机数，如果属于伪随机，那么Pre-Master-Secret就有可能被猜出来。如果使用三个随机数（客户端和服务端）都是伪随机数也十分接近随机。&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;详细流程&quot;&gt;详细流程&lt;/h4&gt;

&lt;h4 id=&quot;代码&quot;&gt;代码&lt;/h4&gt;
&lt;p&gt;伪代码&lt;/p&gt;

&lt;h4 id=&quot;防范&quot;&gt;防范&lt;/h4&gt;
&lt;p&gt;SSL劫持攻击:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;ARP欺骗&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;ARP(address resolution protocol) 地址解析协议。是一种IP地址转化为物理地址的协议（OSI第三层 网络层 转化为 OSI第二层 数据链路层）。
备注：现有三层交换机，支持通过IP地址分发。MAC地址必要性大大降低，但是最初设备接入路由时候，需要MAC地址注册获取IP。MAC地址属于物理地址，IP地址属于逻辑地址。
ARP欺骗，将IP地址到MAC地址的转换过程进行欺骗，使得IP地址转化为错误MAC地址，从而使数据流量引入错误物理地址。
在中间人攻击时候，一般将自己伪装成路由器。&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;DNS欺骗&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;DNS(domain name system) 域名系统。 处于应用层，将域名解析成IP地址（OSI第7层 应用层 转化为 OSI第三层 网络层）
DNS欺骗，将域名信息转化为IP地址时候进行欺骗，使得域名地址转化为错误IP地址，从而使的数据流量错误定位IP地址。
在中间人攻击时候，一般伪装成目标服务器。
简易防范方法：写入HOSTS，可以绕过DNS攻击。但是应为不能将所有网站都写入HOSTS，所以存在局限性。&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;伪随机数猜解&lt;/p&gt;
  &lt;blockquote&gt;
    &lt;p&gt;通过不断对服务器进行初步校验时，对伪随机进行猜解。&lt;/p&gt;
  &lt;/blockquote&gt;
&lt;/blockquote&gt;

</description>
        <pubDate>Thu, 19 Feb 2015 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/%E8%BD%AC%E8%BD%BD/2015/02/19/SSL-MIM/</link>
        <guid isPermaLink="true">http://localhost:4000/%E8%BD%AC%E8%BD%BD/2015/02/19/SSL-MIM/</guid>
        
        <category>ssl/tls</category>
        
        
        <category>转载</category>
        
      </item>
    
  </channel>
</rss>
